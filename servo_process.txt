reset
  state = sweep_right
  address = 0
  
sweep_right
  if new_state
    angle_count = register(address)

  if counter < angle_count
    ext_data <= 0
    
  else if (counter < max_count)
    ext_data <= 1